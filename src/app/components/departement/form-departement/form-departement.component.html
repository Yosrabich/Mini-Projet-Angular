<!-- ********Ajouter département************** -->
<form [formGroup]="myForm"   (ngSubmit)="onSubmit()">
  <div ><img src="../../../assets/img/acte.jpg" class="img" width="500px" height="500px"></div>

  <div class="container ">
     <h1>Ajouter un département</h1>


     <label for="inputText" class="col-sm-2 col-form-label ">Nom département</label>
     <div class=" col-sm-3 "> <input type="text" class="form-control"  formControlName="nomDepart"  [(ngModel)]="depart.nomDepart"></div>

  <div *ngIf="nomDepart.invalid && nomDepart.touched" style="color: red;">
    nom du département est obligatoire et<br/>
     il doit contenir au moins 5 caractéres
  </div>

     <div class="col-sm-4"> <button type="submit" class="btn btn-primary" [disabled]="myForm.invalid">Ajouter</button></div>
  </div>
</form>


 <div class="row">
  <div class="col-md-11" style="margin-left: 100px">

  <div> <h1 style="margin-top: 70px">Liste des départements </h1>

   </div>

    <hr >

    <form class="row g-3" style="float: right;" >
      <div class="col-auto">
 <input type="text" class="form-control" placeholder="search" [(ngModel)]="nom" name="nom"/></div><div class="col-auto" style="margin-top: 2px; "><button type="button" class="btn btn-outline-light btn-sm" (click)="search()"
      > <img src="../../../assets/img/search.png" width="30" height="30"  />
  </button></div></form>
    <table class="table table-hover"  >
      <thead>
      <tr >
        <th>#</th>
        <th >Nom </th>
       <th >Action</th>
      </tr>
      </thead>
      <tbody>
      <tr *ngFor='let d of list;let i=index;'>
        <td>{{i}}</td>
        <td>{{d.nomDepart}}</td>


        <td>
          <button type="button" class="btn btn-outline-primary" [routerLink]="['departement-details',d.idDepart]"
                 > <img src="../../../assets/img/eye3.png" width="30" height="20"  />
          </button>
          &nbsp;
          <button type="button" class="btn btn-outline-success" data-bs-toggle="modal" data-bs-target="#verticalycentered" (click)="afficher(d.idDepart)"
          > <img src="../../../assets/img/edit.png" width="30" height="20"  />
   </button>  &nbsp;
          <button type="button" class="btn btn-outline-danger" (click)="delete(d)"
                  > <img src="../../../assets/img/pobelle.png" width="30" height="20"  />
          </button>
        </td>
      </tr>
      </tbody>
    </table>


  </div>
</div>
<!-- ********modifier département************** -->
<main id="main" class="main">
  <div class="pagetitle">
<section class="section">
  <div class="row">

            <div class="col-lg-6">

                    <div class="modal fade" id="verticalycentered" tabindex="-1">
                       <div class="modal-dialog modal-dialog-centered">
                          <div class="modal-content">
                             <div class="modal-header">
                                <h5 class="modal-title">Modifier Département</h5>
                                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                             </div>

                             <div class="modal-body" style="float: center;">
                              <form [formGroup]="form"><label for="nom" class=" col-form-label " >Nom du département</label>
                             <input type="text" class="form-control"  formControlName="nomDepartement" [(ngModel)]="departement.nomDepart" size="40px">
                             <div *ngIf="nomDepartement.invalid && nomDepartement.touched" style="color: red;">
                              nom du département est obligatoire et<br/>
                               il doit contenir au moins 5 caractéres
                            </div>
                            </form></div>
                             <div class="modal-footer"> <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                              <button type="button" class="btn btn-primary" (click)="form.valid;edit(departement)" >Save changes</button></div>
                          </div>

                 </div></div></div></div></section></div></main>
